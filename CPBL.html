<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 CPBL Ë≥ΩÁ®ãË°®</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body { font-family: "Microsoft JhengHei", "Noto Sans TC", sans-serif; background-color: #f9fafb; }
        /* Hide scrollbar for clean UI in cards */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- ICONS (Inline SVGs replacement for lucide-react) ---
        const IconInfo = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
        );
        const IconCalendar = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>
        );
        const IconAlertTriangle = ({ className, size }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size || 24} height={size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><path d="M12 9v4"/><path d="M12 17h.01"/></svg>
        );

        // --- DATA ---
        const RAW_DATA = {
            "holidays": {
                "2026-01-01": "ÂÖÉÊó¶",
                "2026-02-14": "Êò•ÁØÄ", "2026-02-15": "Êò•ÁØÄ", "2026-02-16": "Êò•ÁØÄ", "2026-02-17": "Êò•ÁØÄ", 
                "2026-02-18": "Êò•ÁØÄ", "2026-02-19": "Êò•ÁØÄ", "2026-02-20": "Êò•ÁØÄ", "2026-02-21": "Êò•ÁØÄ", "2026-02-22": "Êò•ÁØÄ",
                "2026-02-27": "228ÈÄ£ÂÅá", "2026-02-28": "228ÂíåÂπ≥Á¥ÄÂøµÊó•", "2026-03-01": "228ÈÄ£ÂÅá",
                "2026-03-28": "ÈñãÂπïÊà∞",
                "2026-04-03": "Ê∏ÖÊòéÈÄ£ÂÅá", "2026-04-04": "ÂÖíÁ´•ÁØÄ", "2026-04-05": "Ê∏ÖÊòéÁØÄ", "2026-04-06": "Ê∏ÖÊòéÈÄ£ÂÅá",
                "2026-05-01": "ÂãûÂãïÁØÄ", "2026-05-02": "ÈÄ£ÂÅá", "2026-05-03": "ÈÄ£ÂÅá",
                "2026-06-19": "Á´ØÂçàÁØÄ", "2026-06-20": "ÈÄ£ÂÅá", "2026-06-21": "ÈÄ£ÂÅá",
                "2026-09-25": "‰∏≠ÁßãÁØÄ", "2026-09-26": "ÈÄ£ÂÅá", "2026-09-27": "ÈÄ£ÂÅá", "2026-09-28": "ÊïôÂ∏´ÁØÄ",
                "2026-10-09": "ÂúãÊÖ∂ÈÄ£ÂÅá", "2026-10-10": "ÂúãÊÖ∂Êó•", "2026-10-11": "ÂúãÊÖ∂ÈÄ£ÂÅá",
                "2026-10-24": "ÂÖâÂæ©ÈÄ£ÂÅá", "2026-10-25": "ÂÖâÂæ©ÁØÄ", "2026-10-26": "Ë£úÂÅá",
                "2026-12-25": "Ë°åÊÜ≤Á¥ÄÂøµÊó•", "2026-12-26": "ÈÄ£ÂÅá", "2026-12-27": "ÈÄ£ÂÅá"
            },
            "specialEvents": [
                { start: "2026-06-23", end: "2026-06-28", name: "Ë£úË≥ΩÈ†êÂÇôÊó•", type: "light" },
                { start: "2026-06-29", end: "2026-06-30", name: "‰∏äÂçäÂ≠£Ë£úË≥ΩÂë®", type: "light" },
                { start: "2026-07-01", end: "2026-07-01", name: "‰∏äÂçäÂ≠£Âä†Ë≥Ω‰øùÁïôÊó•", type: "light" },
                { start: "2026-09-22", end: "2026-09-22", name: "‰∏ãÂçäÂ≠£ÂÑ™ÂÖàË£úË≥ΩÊó•", type: "light" },
                { start: "2026-09-29", end: "2026-10-04", name: "Ë£úË≥ΩÈ†êÂÇôÊó•", type: "light" },
                { start: "2026-10-05", end: "2026-10-06", name: "‰∏ãÂçäÂ≠£Ë£úË≥ΩÂë®", type: "light" },
                { start: "2026-10-07", end: "2026-10-07", name: "‰∏äÂçäÂ≠£Âä†Ë≥Ω‰øùÁïôÊó•", type: "light" }, 
                { start: "2026-07-18", end: "2026-07-19", name: "ÊòéÊòüË≥Ω", type: "dark" },
                { start: "2026-10-09", end: "2026-10-13", name: "Â≠£ÂæåÊåëÊà∞Ë≥ΩÈ†êÂÆö", type: "dark" },
                { start: "2026-10-17", end: "2026-10-25", name: "Á∏ΩÂÜ†ËªçË≥ΩÈ†êÂÆö", type: "dark" },
            ],
            "matches": [
                { "date": "2026-03-28", "home": "monkey", "away": "brothers" },
                { "date": "2026-03-29", "home": "monkey", "away": "dragon" },
                { "date": "2026-03-29", "home": "brothers", "away": "guardians" },
                { "date": "2026-03-29", "home": "lions", "away": "hawks" },
                { "date": "2026-03-31", "home": "brothers", "away": "dragon" },
                { "date": "2026-03-31", "home": "monkey", "away": "hawks" },
                { "date": "2026-03-31", "home": "lions", "away": "guardians" },
                { "date": "2026-04-01", "home": "brothers", "away": "dragon" },
                { "date": "2026-04-01", "home": "monkey", "away": "hawks" },
                { "date": "2026-04-01", "home": "lions", "away": "guardians" },
                { "date": "2026-04-03", "home": "brothers", "away": "lions" },
                { "date": "2026-04-03", "home": "guardians", "away": "monkey" },
                { "date": "2026-04-03", "home": "dragon", "away": "hawks" },
                { "date": "2026-04-04", "home": "brothers", "away": "lions" },
                { "date": "2026-04-04", "home": "guardians", "away": "monkey" },
                { "date": "2026-04-04", "home": "dragon", "away": "hawks" },
                { "date": "2026-04-05", "home": "brothers", "away": "lions" },
                { "date": "2026-04-05", "home": "guardians", "away": "monkey" },
                { "date": "2026-04-05", "home": "dragon", "away": "hawks" },
                { "date": "2026-04-06", "home": "hawks", "away": "lions" },
                { "date": "2026-04-06", "home": "dragon", "away": "monkey" },
                { "date": "2026-04-06", "home": "guardians", "away": "brothers" },
                { "date": "2026-04-07", "home": "hawks", "away": "lions" },
                { "date": "2026-04-07", "home": "dragon", "away": "monkey" },
                { "date": "2026-04-07", "home": "guardians", "away": "brothers" },
                { "date": "2026-04-10", "home": "hawks", "away": "guardians" },
                { "date": "2026-04-10", "home": "lions", "away": "dragon" },
                { "date": "2026-04-10", "home": "monkey", "away": "brothers" },
                { "date": "2026-04-11", "home": "hawks", "away": "guardians" },
                { "date": "2026-04-11", "home": "lions", "away": "dragon" },
                { "date": "2026-04-11", "home": "monkey", "away": "brothers" },
                { "date": "2026-04-12", "home": "hawks", "away": "guardians" },
                { "date": "2026-04-12", "home": "lions", "away": "dragon" },
                { "date": "2026-04-12", "home": "monkey", "away": "brothers" },
                { "date": "2026-04-14", "home": "guardians", "away": "dragon" },
                { "date": "2026-04-14", "home": "brothers", "away": "hawks" },
                { "date": "2026-04-15", "home": "guardians", "away": "dragon" },
                { "date": "2026-04-15", "home": "brothers", "away": "hawks" },
                { "date": "2026-04-15", "home": "monkey", "away": "lions" },
                { "date": "2026-04-16", "home": "monkey", "away": "lions" },
                { "date": "2026-04-17", "home": "guardians", "away": "lions" },
                { "date": "2026-04-17", "home": "dragon", "away": "brothers" },
                { "date": "2026-04-17", "home": "hawks", "away": "monkey" },
                { "date": "2026-04-18", "home": "guardians", "away": "lions" },
                { "date": "2026-04-18", "home": "dragon", "away": "brothers" },
                { "date": "2026-04-18", "home": "hawks", "away": "monkey" },
                { "date": "2026-04-19", "home": "guardians", "away": "lions" },
                { "date": "2026-04-19", "home": "dragon", "away": "brothers" },
                { "date": "2026-04-19", "home": "hawks", "away": "monkey" },
                { "date": "2026-04-21", "home": "lions", "away": "brothers" },
                { "date": "2026-04-21", "home": "monkey", "away": "guardians" },
                { "date": "2026-04-22", "home": "lions", "away": "brothers" },
                { "date": "2026-04-22", "home": "monkey", "away": "guardians" },
                { "date": "2026-04-22", "home": "hawks", "away": "dragon" },
                { "date": "2026-04-23", "home": "hawks", "away": "dragon" },
                { "date": "2026-04-24", "home": "lions", "away": "hawks" },
                { "date": "2026-04-24", "home": "brothers", "away": "guardians" },
                { "date": "2026-04-24", "home": "monkey", "away": "dragon" },
                { "date": "2026-04-25", "home": "lions", "away": "hawks" },
                { "date": "2026-04-25", "home": "brothers", "away": "guardians" },
                { "date": "2026-04-25", "home": "monkey", "away": "dragon" },
                { "date": "2026-04-26", "home": "lions", "away": "hawks" },
                { "date": "2026-04-26", "home": "brothers", "away": "guardians" },
                { "date": "2026-04-26", "home": "monkey", "away": "dragon" },
                { "date": "2026-04-28", "home": "dragon", "away": "lions" },
                { "date": "2026-04-28", "home": "guardians", "away": "hawks" },
                { "date": "2026-04-29", "home": "dragon", "away": "lions" },
                { "date": "2026-04-29", "home": "guardians", "away": "hawks" },
                { "date": "2026-04-29", "home": "brothers", "away": "monkey" },
                { "date": "2026-04-30", "home": "brothers", "away": "monkey" },
                { "date": "2026-05-01", "home": "dragon", "away": "guardians" },
                { "date": "2026-05-01", "home": "lions", "away": "monkey" },
                { "date": "2026-05-01", "home": "hawks", "away": "brothers" },
                { "date": "2026-05-02", "home": "dragon", "away": "guardians" },
                { "date": "2026-05-02", "home": "lions", "away": "monkey" },
                { "date": "2026-05-02", "home": "hawks", "away": "brothers" },
                { "date": "2026-05-03", "home": "dragon", "away": "guardians" },
                { "date": "2026-05-03", "home": "lions", "away": "monkey" },
                { "date": "2026-05-03", "home": "hawks", "away": "brothers" },
                { "date": "2026-05-05", "home": "guardians", "away": "monkey" },
                { "date": "2026-05-05", "home": "dragon", "away": "brothers" },
                { "date": "2026-05-06", "home": "guardians", "away": "monkey" },
                { "date": "2026-05-06", "home": "dragon", "away": "brothers" },
                { "date": "2026-05-06", "home": "lions", "away": "hawks" },
                { "date": "2026-05-08", "home": "guardians", "away": "dragon" },
                { "date": "2026-05-08", "home": "monkey", "away": "lions" },
                { "date": "2026-05-08", "home": "brothers", "away": "hawks" },
                { "date": "2026-05-09", "home": "guardians", "away": "dragon" },
                { "date": "2026-05-09", "home": "monkey", "away": "lions" },
                { "date": "2026-05-09", "home": "brothers", "away": "hawks" },
                { "date": "2026-05-10", "home": "guardians", "away": "dragon" },
                { "date": "2026-05-10", "home": "monkey", "away": "lions" },
                { "date": "2026-05-10", "home": "brothers", "away": "hawks" },
                { "date": "2026-05-12", "home": "lions", "away": "dragon" },
                { "date": "2026-05-13", "home": "lions", "away": "dragon" },
                { "date": "2026-05-13", "home": "brothers", "away": "guardians" },
                { "date": "2026-05-13", "home": "hawks", "away": "monkey" },
                { "date": "2026-05-14", "home": "hawks", "away": "monkey" },
                { "date": "2026-05-15", "home": "lions", "away": "brothers" },
                { "date": "2026-05-15", "home": "dragon", "away": "monkey" },
                { "date": "2026-05-15", "home": "guardians", "away": "hawks" },
                { "date": "2026-05-16", "home": "lions", "away": "brothers" },
                { "date": "2026-05-16", "home": "dragon", "away": "monkey" },
                { "date": "2026-05-16", "home": "guardians", "away": "hawks" },
                { "date": "2026-05-17", "home": "lions", "away": "brothers" },
                { "date": "2026-05-17", "home": "dragon", "away": "monkey" },
                { "date": "2026-05-17", "home": "guardians", "away": "hawks" },
                { "date": "2026-05-19", "home": "dragon", "away": "hawks" },
                { "date": "2026-05-20", "home": "monkey", "away": "brothers" },
                { "date": "2026-05-20", "home": "dragon", "away": "hawks" },
                { "date": "2026-05-20", "home": "guardians", "away": "lions" },
                { "date": "2026-05-21", "home": "guardians", "away": "lions" },
                { "date": "2026-05-22", "home": "monkey", "away": "guardians" },
                { "date": "2026-05-22", "home": "brothers", "away": "dragon" },
                { "date": "2026-05-22", "home": "hawks", "away": "lions" },
                { "date": "2026-05-23", "home": "monkey", "away": "guardians" },
                { "date": "2026-05-23", "home": "brothers", "away": "dragon" },
                { "date": "2026-05-23", "home": "hawks", "away": "lions" },
                { "date": "2026-05-24", "home": "monkey", "away": "guardians" },
                { "date": "2026-05-24", "home": "brothers", "away": "dragon" },
                { "date": "2026-05-24", "home": "hawks", "away": "lions" },
                { "date": "2026-05-26", "home": "dragon", "away": "guardians" },
                { "date": "2026-05-26", "home": "lions", "away": "monkey" },
                { "date": "2026-05-27", "home": "dragon", "away": "guardians" },
                { "date": "2026-05-27", "home": "lions", "away": "monkey" },
                { "date": "2026-05-27", "home": "hawks", "away": "brothers" },
                { "date": "2026-05-28", "home": "hawks", "away": "brothers" },
                { "date": "2026-05-29", "home": "dragon", "away": "lions" },
                { "date": "2026-05-29", "home": "guardians", "away": "brothers" },
                { "date": "2026-05-29", "home": "monkey", "away": "hawks" },
                { "date": "2026-05-30", "home": "dragon", "away": "lions" },
                { "date": "2026-05-30", "home": "guardians", "away": "brothers" },
                { "date": "2026-05-30", "home": "monkey", "away": "hawks" },
                { "date": "2026-05-31", "home": "dragon", "away": "lions" },
                { "date": "2026-05-31", "home": "guardians", "away": "brothers" },
                { "date": "2026-05-31", "home": "monkey", "away": "hawks" },
                { "date": "2026-06-02", "home": "brothers", "away": "lions" },
                { "date": "2026-06-03", "home": "brothers", "away": "lions" },
                { "date": "2026-06-03", "home": "monkey", "away": "dragon" },
                { "date": "2026-06-03", "home": "hawks", "away": "guardians" },
                { "date": "2026-06-04", "home": "hawks", "away": "guardians" },
                { "date": "2026-06-05", "home": "brothers", "away": "monkey" },
                { "date": "2026-06-05", "home": "lions", "away": "guardians" },
                { "date": "2026-06-05", "home": "hawks", "away": "dragon" },
                { "date": "2026-06-06", "home": "brothers", "away": "monkey" },
                { "date": "2026-06-06", "home": "lions", "away": "guardians" },
                { "date": "2026-06-06", "home": "hawks", "away": "dragon" },
                { "date": "2026-06-07", "home": "brothers", "away": "monkey" },
                { "date": "2026-06-07", "home": "lions", "away": "guardians" },
                { "date": "2026-06-07", "home": "hawks", "away": "dragon" },
                { "date": "2026-06-09", "home": "guardians", "away": "dragon" },
                { "date": "2026-06-09", "home": "brothers", "away": "hawks" },
                { "date": "2026-06-10", "home": "monkey", "away": "lions" },
                { "date": "2026-06-11", "home": "dragon", "away": "brothers" },
                { "date": "2026-06-11", "home": "guardians", "away": "lions" },
                { "date": "2026-06-11", "home": "hawks", "away": "monkey" },
                { "date": "2026-06-12", "home": "dragon", "away": "brothers" },
                { "date": "2026-06-12", "home": "guardians", "away": "lions" },
                { "date": "2026-06-12", "home": "hawks", "away": "monkey" },
                { "date": "2026-06-13", "home": "dragon", "away": "lions" },
                { "date": "2026-06-13", "home": "guardians", "away": "hawks" },
                { "date": "2026-06-13", "home": "brothers", "away": "monkey" },
                { "date": "2026-06-14", "home": "dragon", "away": "lions" },
                { "date": "2026-06-14", "home": "guardians", "away": "hawks" },
                { "date": "2026-06-14", "home": "brothers", "away": "monkey" },
                { "date": "2026-06-16", "home": "lions", "away": "monkey" },
                { "date": "2026-06-16", "home": "hawks", "away": "brothers" },
                { "date": "2026-06-17", "home": "dragon", "away": "guardians" },
                { "date": "2026-06-18", "home": "lions", "away": "hawks" },
                { "date": "2026-06-18", "home": "monkey", "away": "dragon" },
                { "date": "2026-06-18", "home": "brothers", "away": "guardians" },
                { "date": "2026-06-19", "home": "lions", "away": "hawks" },
                { "date": "2026-06-19", "home": "monkey", "away": "dragon" },
                { "date": "2026-06-19", "home": "brothers", "away": "guardians" },
                { "date": "2026-06-20", "home": "lions", "away": "brothers" },
                { "date": "2026-06-20", "home": "monkey", "away": "guardians" },
                { "date": "2026-06-20", "home": "hawks", "away": "dragon" },
                { "date": "2026-06-21", "home": "lions", "away": "brothers" },
                { "date": "2026-06-21", "home": "monkey", "away": "guardians" },
                { "date": "2026-06-21", "home": "hawks", "away": "dragon" },
                { "date": "2026-07-03", "home": "hawks", "away": "lions" },
                { "date": "2026-07-03", "home": "dragon", "away": "guardians" },
                { "date": "2026-07-03", "home": "brothers", "away": "monkey" },
                { "date": "2026-07-04", "home": "hawks", "away": "lions" },
                { "date": "2026-07-04", "home": "dragon", "away": "guardians" },
                { "date": "2026-07-04", "home": "brothers", "away": "monkey" },
                { "date": "2026-07-05", "home": "hawks", "away": "lions" },
                { "date": "2026-07-05", "home": "dragon", "away": "guardians" },
                { "date": "2026-07-05", "home": "brothers", "away": "monkey" },
                { "date": "2026-07-07", "home": "guardians", "away": "monkey" },
                { "date": "2026-07-07", "home": "lions", "away": "brothers" },
                { "date": "2026-07-08", "home": "guardians", "away": "monkey" },
                { "date": "2026-07-08", "home": "lions", "away": "brothers" },
                { "date": "2026-07-08", "home": "dragon", "away": "hawks" },
                { "date": "2026-07-09", "home": "dragon", "away": "hawks" },
                { "date": "2026-07-10", "home": "guardians", "away": "brothers" },
                { "date": "2026-07-10", "home": "monkey", "away": "hawks" },
                { "date": "2026-07-10", "home": "lions", "away": "dragon" },
                { "date": "2026-07-11", "home": "guardians", "away": "brothers" },
                { "date": "2026-07-11", "home": "monkey", "away": "hawks" },
                { "date": "2026-07-11", "home": "lions", "away": "dragon" },
                { "date": "2026-07-12", "home": "guardians", "away": "brothers" },
                { "date": "2026-07-12", "home": "monkey", "away": "hawks" },
                { "date": "2026-07-12", "home": "lions", "away": "dragon" },
                { "date": "2026-07-14", "home": "brothers", "away": "dragon" },
                { "date": "2026-07-14", "home": "hawks", "away": "guardians" },
                { "date": "2026-07-15", "home": "brothers", "away": "dragon" },
                { "date": "2026-07-15", "home": "hawks", "away": "guardians" },
                { "date": "2026-07-15", "home": "monkey", "away": "lions" },
                { "date": "2026-07-16", "home": "monkey", "away": "lions" },
                { "date": "2026-07-21", "home": "brothers", "away": "hawks" },
                { "date": "2026-07-21", "home": "dragon", "away": "monkey" },
                { "date": "2026-07-22", "home": "brothers", "away": "hawks" },
                { "date": "2026-07-22", "home": "dragon", "away": "monkey" },
                { "date": "2026-07-22", "home": "lions", "away": "guardians" },
                { "date": "2026-07-23", "home": "lions", "away": "guardians" },
                { "date": "2026-07-24", "home": "brothers", "away": "lions" },
                { "date": "2026-07-24", "home": "hawks", "away": "dragon" },
                { "date": "2026-07-24", "home": "monkey", "away": "guardians" },
                { "date": "2026-07-25", "home": "brothers", "away": "lions" },
                { "date": "2026-07-25", "home": "hawks", "away": "dragon" },
                { "date": "2026-07-25", "home": "monkey", "away": "guardians" },
                { "date": "2026-07-26", "home": "brothers", "away": "lions" },
                { "date": "2026-07-26", "home": "hawks", "away": "dragon" },
                { "date": "2026-07-26", "home": "monkey", "away": "guardians" },
                { "date": "2026-07-28", "home": "guardians", "away": "dragon" },
                { "date": "2026-07-28", "home": "lions", "away": "hawks" },
                { "date": "2026-07-29", "home": "guardians", "away": "dragon" },
                { "date": "2026-07-29", "home": "lions", "away": "hawks" },
                { "date": "2026-07-29", "home": "monkey", "away": "brothers" },
                { "date": "2026-07-30", "home": "monkey", "away": "brothers" },
                { "date": "2026-07-31", "home": "guardians", "away": "hawks" },
                { "date": "2026-07-31", "home": "dragon", "away": "brothers" },
                { "date": "2026-07-31", "home": "lions", "away": "monkey" },
                { "date": "2026-08-01", "home": "guardians", "away": "hawks" },
                { "date": "2026-08-01", "home": "dragon", "away": "brothers" },
                { "date": "2026-08-01", "home": "lions", "away": "monkey" },
                { "date": "2026-08-02", "home": "guardians", "away": "hawks" },
                { "date": "2026-08-02", "home": "dragon", "away": "brothers" },
                { "date": "2026-08-02", "home": "lions", "away": "monkey" },
                { "date": "2026-08-04", "home": "hawks", "away": "monkey" },
                { "date": "2026-08-04", "home": "brothers", "away": "guardians" },
                { "date": "2026-08-05", "home": "hawks", "away": "monkey" },
                { "date": "2026-08-05", "home": "brothers", "away": "guardians" },
                { "date": "2026-08-05", "home": "dragon", "away": "lions" },
                { "date": "2026-08-06", "home": "dragon", "away": "lions" },
                { "date": "2026-08-07", "home": "hawks", "away": "brothers" },
                { "date": "2026-08-07", "home": "monkey", "away": "dragon" },
                { "date": "2026-08-07", "home": "guardians", "away": "lions" },
                { "date": "2026-08-08", "home": "hawks", "away": "brothers" },
                { "date": "2026-08-08", "home": "monkey", "away": "dragon" },
                { "date": "2026-08-08", "home": "guardians", "away": "lions" },
                { "date": "2026-08-09", "home": "hawks", "away": "brothers" },
                { "date": "2026-08-09", "home": "monkey", "away": "dragon" },
                { "date": "2026-08-09", "home": "guardians", "away": "lions" },
                { "date": "2026-08-11", "home": "lions", "away": "monkey" },
                { "date": "2026-08-11", "home": "hawks", "away": "dragon" },
                { "date": "2026-08-12", "home": "lions", "away": "monkey" },
                { "date": "2026-08-12", "home": "hawks", "away": "dragon" },
                { "date": "2026-08-12", "home": "guardians", "away": "brothers" },
                { "date": "2026-08-13", "home": "guardians", "away": "brothers" },
                { "date": "2026-08-14", "home": "lions", "away": "guardians" },
                { "date": "2026-08-14", "home": "dragon", "away": "monkey" },
                { "date": "2026-08-14", "home": "brothers", "away": "hawks" },
                { "date": "2026-08-15", "home": "lions", "away": "guardians" },
                { "date": "2026-08-15", "home": "dragon", "away": "monkey" },
                { "date": "2026-08-15", "home": "brothers", "away": "hawks" },
                { "date": "2026-08-16", "home": "lions", "away": "guardians" },
                { "date": "2026-08-16", "home": "dragon", "away": "monkey" },
                { "date": "2026-08-16", "home": "brothers", "away": "hawks" },
                { "date": "2026-08-18", "home": "hawks", "away": "lions" },
                { "date": "2026-08-18", "home": "monkey", "away": "guardians" },
                { "date": "2026-08-19", "home": "hawks", "away": "lions" },
                { "date": "2026-08-19", "home": "monkey", "away": "guardians" },
                { "date": "2026-08-19", "home": "dragon", "away": "brothers" },
                { "date": "2026-08-20", "home": "dragon", "away": "brothers" },
                { "date": "2026-08-21", "home": "hawks", "away": "monkey" },
                { "date": "2026-08-21", "home": "lions", "away": "brothers" },
                { "date": "2026-08-21", "home": "guardians", "away": "dragon" },
                { "date": "2026-08-22", "home": "hawks", "away": "monkey" },
                { "date": "2026-08-22", "home": "lions", "away": "brothers" },
                { "date": "2026-08-22", "home": "guardians", "away": "dragon" },
                { "date": "2026-08-23", "home": "hawks", "away": "monkey" },
                { "date": "2026-08-23", "home": "lions", "away": "brothers" },
                { "date": "2026-08-23", "home": "guardians", "away": "dragon" },
                { "date": "2026-08-25", "home": "brothers", "away": "monkey" },
                { "date": "2026-08-25", "home": "lions", "away": "dragon" },
                { "date": "2026-08-26", "home": "brothers", "away": "monkey" },
                { "date": "2026-08-26", "home": "lions", "away": "dragon" },
                { "date": "2026-08-26", "home": "guardians", "away": "hawks" },
                { "date": "2026-08-27", "home": "guardians", "away": "hawks" },
                { "date": "2026-08-28", "home": "brothers", "away": "guardians" },
                { "date": "2026-08-28", "home": "monkey", "away": "lions" },
                { "date": "2026-08-28", "home": "dragon", "away": "hawks" },
                { "date": "2026-08-29", "home": "brothers", "away": "guardians" },
                { "date": "2026-08-29", "home": "monkey", "away": "lions" },
                { "date": "2026-08-29", "home": "dragon", "away": "hawks" },
                { "date": "2026-08-30", "home": "brothers", "away": "guardians" },
                { "date": "2026-08-30", "home": "monkey", "away": "lions" },
                { "date": "2026-08-30", "home": "dragon", "away": "hawks" },
                { "date": "2026-09-01", "home": "guardians", "away": "lions" },
                { "date": "2026-09-01", "home": "hawks", "away": "brothers" },
                { "date": "2026-09-02", "home": "guardians", "away": "lions" },
                { "date": "2026-09-02", "home": "hawks", "away": "brothers" },
                { "date": "2026-09-02", "home": "monkey", "away": "dragon" },
                { "date": "2026-09-03", "home": "monkey", "away": "dragon" },
                { "date": "2026-09-04", "home": "guardians", "away": "monkey" },
                { "date": "2026-09-04", "home": "lions", "away": "hawks" },
                { "date": "2026-09-04", "home": "brothers", "away": "dragon" },
                { "date": "2026-09-05", "home": "guardians", "away": "monkey" },
                { "date": "2026-09-05", "home": "lions", "away": "hawks" },
                { "date": "2026-09-05", "home": "brothers", "away": "dragon" },
                { "date": "2026-09-06", "home": "guardians", "away": "monkey" },
                { "date": "2026-09-06", "home": "lions", "away": "hawks" },
                { "date": "2026-09-06", "home": "brothers", "away": "dragon" },
                { "date": "2026-09-08", "home": "dragon", "away": "guardians" },
                { "date": "2026-09-08", "home": "monkey", "away": "hawks" },
                { "date": "2026-09-09", "home": "dragon", "away": "guardians" },
                { "date": "2026-09-09", "home": "monkey", "away": "hawks" },
                { "date": "2026-09-09", "home": "brothers", "away": "lions" },
                { "date": "2026-09-10", "home": "brothers", "away": "lions" },
                { "date": "2026-09-11", "home": "dragon", "away": "lions" },
                { "date": "2026-09-11", "home": "monkey", "away": "brothers" },
                { "date": "2026-09-11", "home": "hawks", "away": "guardians" },
                { "date": "2026-09-12", "home": "dragon", "away": "lions" },
                { "date": "2026-09-12", "home": "monkey", "away": "brothers" },
                { "date": "2026-09-12", "home": "hawks", "away": "guardians" },
                { "date": "2026-09-13", "home": "dragon", "away": "lions" },
                { "date": "2026-09-13", "home": "monkey", "away": "brothers" },
                { "date": "2026-09-13", "home": "hawks", "away": "guardians" },
                { "date": "2026-09-15", "home": "hawks", "away": "brothers" },
                { "date": "2026-09-15", "home": "lions", "away": "monkey" },
                { "date": "2026-09-16", "home": "dragon", "away": "guardians" },
                { "date": "2026-09-17", "home": "brothers", "away": "lions" },
                { "date": "2026-09-17", "home": "guardians", "away": "monkey" },
                { "date": "2026-09-17", "home": "dragon", "away": "hawks" },
                { "date": "2026-09-18", "home": "brothers", "away": "lions" },
                { "date": "2026-09-18", "home": "guardians", "away": "monkey" },
                { "date": "2026-09-18", "home": "dragon", "away": "hawks" },
                { "date": "2026-09-19", "home": "brothers", "away": "dragon" },
                { "date": "2026-09-19", "home": "monkey", "away": "hawks" },
                { "date": "2026-09-19", "home": "lions", "away": "guardians" },
                { "date": "2026-09-20", "home": "brothers", "away": "dragon" },
                { "date": "2026-09-20", "home": "monkey", "away": "hawks" },
                { "date": "2026-09-20", "home": "lions", "away": "guardians" },
                { "date": "2026-09-24", "home": "hawks", "away": "guardians" },
                { "date": "2026-09-24", "home": "monkey", "away": "brothers" },
                { "date": "2026-09-24", "home": "lions", "away": "dragon" },
                { "date": "2026-09-25", "home": "hawks", "away": "guardians" },
                { "date": "2026-09-25", "home": "monkey", "away": "brothers" },
                { "date": "2026-09-25", "home": "lions", "away": "dragon" },
                { "date": "2026-09-26", "home": "hawks", "away": "lions" },
                { "date": "2026-09-26", "home": "guardians", "away": "monkey" },
                { "date": "2026-09-26", "home": "dragon", "away": "brothers" },
                { "date": "2026-09-27", "home": "hawks", "away": "lions" },
                { "date": "2026-09-27", "home": "guardians", "away": "monkey" },
                { "date": "2026-09-27", "home": "dragon", "away": "brothers" },
                { "date": "2026-09-28", "home": "brothers", "away": "hawks" },
                { "date": "2026-09-28", "home": "monkey", "away": "lions" },
                { "date": "2026-09-28", "home": "guardians", "away": "dragon" }
            ]
        };

        const TEAMS = {
            dragon: {
                id: 'dragon',
                full: 'Âë≥ÂÖ®Èæç',
                short: 'Âë≥ÂÖ®',
                shortest: 'Èæç',
                color: '#EE1C25', 
                emoji: 'üê≤',
                textColor: 'white'
            },
            lions: {
                id: 'lions',
                full: 'Áµ±‰∏ÄÁçÖ',
                short: 'Áµ±‰∏Ä',
                shortest: 'ÁçÖ',
                color: '#f37021',
                emoji: 'ü¶Å',
                textColor: 'white'
            },
            brothers: {
                id: 'brothers',
                full: '‰∏≠‰ø°ÂÖÑÂºüË±°',
                short: '‰∏≠‰ø°',
                shortest: 'Ë±°',
                color: '#ffcd00',
                emoji: 'üêò',
                textColor: 'black'
            },
            monkey: {
                id: 'monkey',
                full: 'Ê®ÇÂ§©Ê°ÉÁåø',
                short: 'Ê®ÇÂ§©',
                shortest: 'Áåø',
                color: '#8B0000', 
                emoji: 'üêí',
                textColor: 'white'
            },
            guardians: {
                id: 'guardians',
                full: 'ÂØåÈÇ¶ÊÇçÂ∞á',
                short: 'ÂØåÈÇ¶',
                shortest: 'ÊÇç',
                color: '#004a9c',
                emoji: 'üõ°Ô∏è',
                textColor: 'white'
            },
            hawks: {
                id: 'hawks',
                full: 'Âè∞ÈãºÈõÑÈ∑π',
                short: 'Âè∞Èãº',
                shortest: 'È∑π',
                color: '#006241',
                emoji: 'ü¶Ö',
                textColor: 'white'
            }
        };

        const TEAM_KEYS = Object.keys(TEAMS);

        // --- HELPER FUNCTIONS ---

        const getDayName = (dayIndex) => {
            const days = ['‰∏Ä', '‰∫å', '‰∏â', 'Âõõ', '‰∫î', 'ÂÖ≠', 'Êó•'];
            return days[dayIndex];
        };

        const getMonthName = (monthIndex) => {
            return `${monthIndex + 1}Êúà`;
        };

        // Check if a date is within a special event range
        const getSpecialEventForDate = (dateStr, events) => {
            const targetDate = new Date(dateStr);
            return events.find(event => {
                const start = new Date(event.start);
                const end = new Date(event.end);
                return targetDate >= start && targetDate <= end;
            });
        };

        // --- COMPONENTS ---

        const App = () => {
            // State
            const [selectedTeams, setSelectedTeams] = useState(new Set());
            const [viewMode, setViewMode] = useState('all'); 
            const [monthFilter, setMonthFilter] = useState('future');
            
            // Persistence
            useEffect(() => {
                const saved = localStorage.getItem('cpbl_2026_pref_v4');
                if (saved) {
                    try {
                        const parsed = JSON.parse(saved);
                        setSelectedTeams(new Set(parsed.selectedTeams));
                        setViewMode(parsed.viewMode);
                        setMonthFilter(parsed.monthFilter);
                    } catch (e) {
                        console.error("Failed to load preferences", e);
                    }
                }
            }, []);

            useEffect(() => {
                localStorage.setItem('cpbl_2026_pref_v4', JSON.stringify({
                    selectedTeams: Array.from(selectedTeams),
                    viewMode,
                    monthFilter
                }));
            }, [selectedTeams, viewMode, monthFilter]);

            // Derived Data
            const currentDate = new Date();
            const todayStr = currentDate.toISOString().split('T')[0];

            // Prepare Calendar Data
            const matchesByDate = useMemo(() => {
                const map = {};
                RAW_DATA.matches.forEach(match => {
                    if (!map[match.date]) map[match.date] = [];
                    map[match.date].push(match);
                });
                return map;
            }, []);

            const filteredMonths = useMemo(() => {
                const monthsSet = new Set();
                RAW_DATA.matches.forEach(m => {
                    const d = new Date(m.date);
                    monthsSet.add(`${d.getFullYear()}-${d.getMonth()}`);
                });
                
                // Also consider special events
                RAW_DATA.specialEvents.forEach(e => {
                    const d = new Date(e.start);
                    monthsSet.add(`${d.getFullYear()}-${d.getMonth()}`);
                    const end = new Date(e.end);
                    if (end.getMonth() !== d.getMonth()) {
                        monthsSet.add(`${end.getFullYear()}-${end.getMonth()}`);
                    }
                });

                let sortedMonths = Array.from(monthsSet).map(s => {
                    const [y, m] = s.split('-');
                    return { year: parseInt(y), month: parseInt(m) };
                }).sort((a, b) => (a.year * 12 + a.month) - (b.year * 12 + b.month));

                if (monthFilter === 'future') {
                    const now = new Date();
                    const currentVal = now.getFullYear() * 12 + now.getMonth();
                    sortedMonths = sortedMonths.filter(m => (m.year * 12 + m.month) >= currentVal);
                } else if (monthFilter === 'half1') {
                    sortedMonths = sortedMonths.filter(m => m.month >= 2 && m.month <= 5);
                } else if (monthFilter === 'half2') {
                    sortedMonths = sortedMonths.filter(m => m.month >= 6 && m.month <= 10);
                } else if (monthFilter !== 'all') {
                    const targetMonth = parseInt(monthFilter);
                    sortedMonths = sortedMonths.filter(m => m.month === targetMonth);
                }
                
                return sortedMonths;
            }, [monthFilter]);

            // Statistics Calculation
            const stats = useMemo(() => {
                let monThu = 0;
                let fri = 0;
                let weekendHol = 0;
                let total = 0;
                let homeGamesCount = 0;
                let conflictCount = 0;

                const allDates = Object.keys(matchesByDate);
                
                if (selectedTeams.size > 1) {
                    allDates.forEach(dateStr => {
                        const daysMatches = matchesByDate[dateStr];
                        let teamsPlayingHomeToday = 0;
                        
                        daysMatches.forEach(m => {
                            if (selectedTeams.has(m.home)) {
                                teamsPlayingHomeToday++;
                            }
                        });

                        if (teamsPlayingHomeToday > 1) {
                            conflictCount++;
                        }
                    });
                }

                const visibleMatches = RAW_DATA.matches.filter(m => {
                    if (selectedTeams.size > 0) {
                        const isHome = selectedTeams.has(m.home);
                        const isAway = selectedTeams.has(m.away);
                        
                        if (viewMode === 'home' && !isHome) return false;
                        if (viewMode === 'all' && !isHome && !isAway) return false;
                    }
                    return true;
                });

                visibleMatches.forEach(m => {
                    const d = new Date(m.date);
                    const day = d.getDay(); 
                    const dateStr = m.date;
                    const isHoliday = RAW_DATA.holidays[dateStr] || day === 0 || day === 6;

                    if (isHoliday) {
                        weekendHol++;
                    } else if (day === 5) {
                        fri++;
                    } else {
                        monThu++;
                    }
                    total++;

                    if (selectedTeams.size > 0) {
                        if (selectedTeams.has(m.home)) homeGamesCount++;
                    } else {
                        homeGamesCount = total;
                    }
                });

                return { monThu, fri, weekendHol, total, homeGamesCount, conflictCount };
            }, [selectedTeams, viewMode, matchesByDate]);

            const toggleTeam = (teamId) => {
                const newSelection = new Set(selectedTeams);
                if (newSelection.has(teamId)) {
                    newSelection.delete(teamId);
                } else {
                    newSelection.add(teamId);
                }
                
                setSelectedTeams(newSelection);
                
                if (newSelection.size > 0) {
                    if (selectedTeams.size === 0) {
                        setViewMode('home');
                    }
                } else {
                    setViewMode('all');
                }
            };

            const clearSelection = () => {
                setSelectedTeams(new Set());
                setViewMode('all');
            }

            return (
                <div className="min-h-screen bg-gray-50 text-gray-800 font-sans pb-12">
                    {/* HEADER */}
                    <header className="bg-white shadow-sm sticky top-0 z-50">
                        <div className="max-w-7xl mx-auto px-4 py-4 space-y-4">
                            {/* Title & Date Row */}
                            <div className="grid grid-cols-1 md:grid-cols-3 items-center gap-2">
                                <div className="hidden md:block"></div> 
                                <div className="text-center">
                                    <h1 className="text-2xl md:text-3xl font-bold text-gray-900 tracking-tight flex items-center justify-center gap-2">
                                        ‚öæ 2026 CPBL Ë≥ΩÁ®ãË°®
                                    </h1>
                                </div>
                                <div className="text-center md:text-right">
                                    <span className="inline-block px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-600 font-medium">
                                        üìÖ ‰ªäÊó•: {todayStr}
                                    </span>
                                </div>
                            </div>
                            
                            {/* Stats Dashboard */}
                            <div className="flex justify-center">
                                <div className="flex flex-wrap justify-center gap-2 text-xs md:text-sm bg-gray-100 p-2 rounded-lg inline-flex">
                                    <div className="px-3 py-1 bg-white rounded shadow-sm border border-gray-200">
                                        <span className="text-gray-500 block">ÈÄ±‰∏Ä~Âõõ</span>
                                        <span className="font-bold text-lg">{stats.monThu}</span>
                                    </div>
                                    <div className="px-3 py-1 bg-white rounded shadow-sm border border-gray-200">
                                        <span className="text-gray-500 block">ÈÄ±‰∫î</span>
                                        <span className="font-bold text-lg">{stats.fri}</span>
                                    </div>
                                    <div className="px-3 py-1 bg-red-50 rounded shadow-sm border border-red-100">
                                        <span className="text-red-500 block">ÂÅáÊó•</span>
                                        <span className="font-bold text-lg text-red-600">{stats.weekendHol}</span>
                                    </div>
                                    <div className="px-3 py-1 bg-blue-50 rounded shadow-sm border border-blue-100">
                                        <span className="text-blue-500 block">Á∏ΩÂ†¥Ê¨°</span>
                                        <span className="font-bold text-lg text-blue-600">{stats.total}</span>
                                    </div>
                                    <div className="px-3 py-1 bg-green-50 rounded shadow-sm border border-green-100" title="ÈÅ∏ÂÆöÈöä‰ºçÁöÑ‰∏ªÂ†¥Â†¥Ê¨°">
                                        <span className="text-green-600 block">{selectedTeams.size > 0 ? '‰∏ªÂ†¥Â†¥Ê¨°' : 'Á∏ΩË®à'}</span>
                                        <span className="font-bold text-lg text-green-700">{stats.homeGamesCount}</span>
                                    </div>
                                    {selectedTeams.size > 1 && (
                                        <div className="px-3 py-1 bg-yellow-50 rounded shadow-sm border border-yellow-200" title="Â§öÈöäÂêåÊôÇ‰∏ªÂ†¥ÁöÑÂ§©Êï∏">
                                            <span className="text-yellow-700 block flex items-center gap-1">
                                                <IconAlertTriangle size={12} />
                                                ‰∏ªÂ†¥Ë°ùÁ™Å
                                            </span>
                                            <span className="font-bold text-lg text-yellow-800">{stats.conflictCount} <span className="text-xs font-normal">Â§©</span></span>
                                        </div>
                                    )}
                                </div>
                            </div>

                            {/* Controls */}
                            <div className="space-y-4">
                                <div className="flex flex-wrap justify-center gap-2">
                                    <button 
                                        onClick={clearSelection}
                                        className={`px-4 py-2 rounded-full text-sm font-medium transition-all ${
                                        selectedTeams.size === 0 
                                        ? 'bg-gray-800 text-white shadow-lg scale-105' 
                                        : 'bg-white text-gray-600 border border-gray-200 hover:bg-gray-50'
                                        }`}
                                    >
                                        ÂÖ®ÈÉ®ÁêÉÈöä
                                    </button>
                                    {TEAM_KEYS.map(key => {
                                        const team = TEAMS[key];
                                        const isSelected = selectedTeams.has(key);
                                        return (
                                        <button
                                            key={key}
                                            onClick={() => toggleTeam(key)}
                                            style={{
                                                backgroundColor: isSelected ? team.color : 'white',
                                                color: isSelected ? (team.textColor || 'white') : team.color,
                                                borderColor: team.color
                                            }}
                                            className={`px-4 py-2 rounded-full text-sm font-bold border transition-all flex items-center gap-1 ${
                                                isSelected ? 'shadow-md scale-105 ring-2 ring-offset-1 ring-gray-300' : 'hover:opacity-80'
                                            }`}
                                        >
                                            <span>{team.emoji}</span>
                                            <span className="hidden md:inline">{team.full}</span>
                                            <span className="inline md:hidden">{team.shortest}</span>
                                        </button>
                                        );
                                    })}
                                </div>

                                <div className="flex flex-col md:flex-row gap-3 justify-center items-center bg-gray-50 p-2 rounded-lg border border-gray-200 max-w-4xl mx-auto">
                                    <div className="flex items-center gap-2 w-full md:w-auto justify-center">
                                        <div className="flex bg-white rounded-lg p-1 border border-gray-300 shadow-sm w-full md:w-auto">
                                            <button
                                                onClick={() => setViewMode('home')}
                                                disabled={selectedTeams.size === 0}
                                                className={`flex-1 md:flex-none px-4 py-1.5 rounded-md text-sm font-medium transition-colors ${
                                                    viewMode === 'home' 
                                                    ? 'bg-indigo-100 text-indigo-700' 
                                                    : 'text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed'
                                                }`}
                                            >
                                                ÂÉÖÈ°ØÁ§∫‰∏ªÂ†¥
                                            </button>
                                            <button
                                                onClick={() => setViewMode('all')}
                                                className={`flex-1 md:flex-none px-4 py-1.5 rounded-md text-sm font-medium transition-colors ${
                                                    viewMode === 'all' 
                                                    ? 'bg-indigo-100 text-indigo-700' 
                                                    : 'text-gray-500 hover:text-gray-700'
                                                }`}
                                            >
                                                ‰∏ªÂÆ¢Â†¥ÁöÜÁ§∫
                                            </button>
                                        </div>
                                    </div>

                                    <div className="flex items-center gap-2 w-full md:w-auto justify-center">
                                        <select 
                                            value={monthFilter}
                                            onChange={(e) => setMonthFilter(e.target.value)}
                                            className="w-full md:w-48 pl-3 pr-10 py-2 text-sm border border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md shadow-sm"
                                        >
                                            <option value="future">üìÖ Êú™‰æÜÊúà‰ªΩ (È†êË®≠)</option>
                                            <option value="all">üìÇ ÊâÄÊúâÊúà‰ªΩ</option>
                                            <option disabled>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</option>
                                            <option value="half1">‚öæ ‰∏äÂçäÂ≠£ (3-6Êúà)</option>
                                            <option value="half2">‚öæ ‰∏ãÂçäÂ≠£ (7-10Êúà)</option>
                                            <option disabled>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</option>
                                            {[2,3,4,5,6,7,8,9,10,11].map(m => (
                                                <option key={m} value={m}>{m + 1}Êúà</option>
                                            ))}
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Disclaimer */}
                        <div className="bg-yellow-50 border-b border-yellow-100 px-4 py-2 text-xs text-yellow-800 flex items-start gap-2 justify-center">
                            <IconInfo className="w-4 h-4 mt-0.5 shrink-0" />
                            <p>
                                ‰æùÁÖßCPBL(2025/12/4)ÂÖ¨ÂëäÁ∑®ËºØË£Ω‰ΩúÔºåÊúÄÁµÇË≥ΩÁ®ã‰ªç‰ª•CPBLÁÇ∫Ê∫ñÔºåÂ†¥Âú∞‰ªçÊú™ÂÖ¨ÂëäÔºåÁõÆÂâçÈ°ØÁ§∫Â§ßÂ∑®Ëõã‰ª•ÂèäÂ§ñÂú∞‰∏ªÂ†¥ÂÆâÊéí‰∏çÂåÖÂê´„ÄÇ
                            </p>
                        </div>
                    </header>

                    {/* MAIN CALENDAR CONTENT */}
                    <main className="max-w-7xl mx-auto px-2 md:px-4 py-6 space-y-8">
                        {filteredMonths.length === 0 && (
                            <div className="text-center py-20 text-gray-400">
                                <IconCalendar className="w-16 h-16 mx-auto mb-4 opacity-20" />
                                <p>Ê≤íÊúâÁ¨¶ÂêàÊ¢ù‰ª∂ÁöÑË≥ΩÁ®ã</p>
                            </div>
                        )}

                        {filteredMonths.map((mObj) => (
                            <MonthBlock 
                                key={`${mObj.year}-${mObj.month}`} 
                                year={mObj.year} 
                                month={mObj.month} 
                                matchesMap={matchesByDate}
                                selectedTeams={selectedTeams}
                                viewMode={viewMode}
                                holidays={RAW_DATA.holidays}
                                specialEvents={RAW_DATA.specialEvents}
                            />
                        ))}
                    </main>
                </div>
            );
        };

        const MonthBlock = ({ year, month, matchesMap, selectedTeams, viewMode, holidays, specialEvents }) => {
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const firstDayObj = new Date(year, month, 1);
            let startDayOfWeek = firstDayObj.getDay(); 
            let shift = startDayOfWeek === 0 ? 6 : startDayOfWeek - 1;

            const gridCells = [];
            for(let i=0; i<shift; i++) gridCells.push(null);
            for(let i=1; i<=daysInMonth; i++) gridCells.push(i);

            return (
                <div className="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden break-inside-avoid mb-8">
                    <div className="bg-gray-800 text-white px-4 py-3 flex items-center justify-between">
                        <h2 className="text-xl font-bold">{year}Âπ¥ {getMonthName(month)}</h2>
                    </div>
                    
                    <div className="grid grid-cols-7 border-b border-gray-200 text-center text-xs md:text-sm font-medium text-gray-500 bg-gray-50">
                        <div className="py-2">ÈÄ±‰∏Ä</div>
                        <div className="py-2">ÈÄ±‰∫å</div>
                        <div className="py-2">ÈÄ±‰∏â</div>
                        <div className="py-2">ÈÄ±Âõõ</div>
                        <div className="py-2">ÈÄ±‰∫î</div>
                        <div className="py-2 text-red-500">ÈÄ±ÂÖ≠</div>
                        <div className="py-2 text-red-500">ÈÄ±Êó•</div>
                    </div>

                    <div className="grid grid-cols-7 auto-rows-fr bg-gray-200 gap-px border-b border-gray-200">
                        {gridCells.map((day, idx) => {
                            if (!day) return <div key={`empty-${idx}`} className="bg-white min-h-[100px] md:min-h-[140px]"></div>;

                            const dateStr = `${year}-${String(month+1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                            const dayMatches = matchesMap[dateStr] || [];
                            
                            const visibleMatches = dayMatches.filter(m => {
                                if (selectedTeams.size === 0) return true;
                                if (viewMode === 'home') return selectedTeams.has(m.home);
                                return selectedTeams.has(m.home) || selectedTeams.has(m.away);
                            });
                            
                            const specialEvent = getSpecialEventForDate(dateStr, specialEvents);

                            const currentDayDate = new Date(year, month, day);
                            const dayOfWeek = currentDayDate.getDay(); 
                            const isWeekend = dayOfWeek === 0 || dayOfWeek === 6;
                            const holidayName = holidays[dateStr];
                            const isHoliday = isWeekend || !!holidayName;

                            return (
                                <div 
                                    key={dateStr} 
                                    className={`min-h-[100px] md:min-h-[140px] flex flex-col relative transition-colors
                                        ${isHoliday ? 'bg-red-50' : 'bg-white'}
                                        hover:bg-gray-100
                                    `}
                                >
                                    <div className={`p-2 flex justify-between items-start text-sm
                                        ${isHoliday ? 'text-red-600' : 'text-gray-700'}
                                    `}>
                                        <span className={`font-bold text-lg leading-none`}>{day}</span>
                                        {holidayName && (
                                            <span className="text-[10px] md:text-xs bg-red-100 text-red-600 px-1.5 py-0.5 rounded ml-1 text-right leading-tight">
                                                {holidayName}
                                            </span>
                                        )}
                                    </div>

                                    <div className="flex-1 px-1 pb-2 flex flex-col gap-1.5 overflow-y-auto no-scrollbar">
                                        {specialEvent && (
                                            <EventCard event={specialEvent} />
                                        )}
                                        {visibleMatches.map((match, mIdx) => (
                                            <MatchCard key={mIdx} match={match} />
                                        ))}
                                    </div>
                                </div>
                            );
                        })}
                    </div>
                </div>
            );
        };

        const EventCard = ({ event }) => {
            const isDark = event.type === 'dark';
            
            return (
                <div className={`
                    relative group rounded shadow-sm overflow-hidden p-2 text-center text-xs md:text-sm font-bold flex items-center justify-center min-h-[40px] border
                    ${isDark 
                        ? 'bg-gray-700 text-gray-100 border-gray-800' 
                        : 'bg-gray-200 text-gray-700 border-gray-300'
                    }
                `}>
                    {event.name}
                </div>
            );
        };

        const MatchCard = ({ match }) => {
            const homeTeam = TEAMS[match.home];
            const awayTeam = TEAMS[match.away];

            if (!homeTeam || !awayTeam) return null;

            return (
                <div className="relative group border border-gray-200 rounded shadow-sm overflow-hidden bg-white">
                    <div className="text-center flex flex-col justify-center items-stretch h-full">
                        
                        {/* Desktop Layout */}
                        <div className="hidden lg:flex flex-row items-center justify-between text-sm leading-tight w-full">
                            <div className="flex-1 py-1.5 bg-gray-50 text-gray-500 font-medium text-xs">
                                {awayTeam.full}
                            </div>
                            <div className="bg-gray-100 text-gray-400 text-[10px] px-1 py-1.5 border-x border-gray-100">
                                VS
                            </div>
                            <div 
                                className="flex-1 py-1.5 font-bold flex items-center justify-center gap-1"
                                style={{ backgroundColor: homeTeam.color, color: homeTeam.textColor }}
                            >
                                <span>{homeTeam.full}</span>
                                <span>{homeTeam.emoji}</span>
                            </div>
                        </div>

                        {/* Tablet Layout */}
                        <div className="hidden md:flex lg:hidden flex-row items-center justify-between text-xs leading-tight w-full">
                            <div className="flex-1 py-1 bg-gray-50 text-gray-500 font-medium text-[10px]">
                                {awayTeam.short}
                            </div>
                            <div className="bg-gray-100 text-gray-400 text-[10px] px-0.5 py-1">V</div>
                            <div 
                                className="flex-1 py-1 font-bold flex items-center justify-center gap-0.5"
                                style={{ backgroundColor: homeTeam.color, color: homeTeam.textColor }}
                            >
                                {homeTeam.short} {homeTeam.emoji}
                            </div>
                        </div>

                        {/* Mobile Layout */}
                        <div className="flex md:hidden flex-row items-center justify-between text-xs w-full">
                            <div className="flex-1 py-1 bg-gray-50 text-gray-500 text-[10px] text-center">
                                {awayTeam.shortest}
                            </div>
                            <div className="bg-gray-100 text-gray-400 text-[10px] px-0.5 py-1">v</div>
                            <div 
                                className="flex-1 py-1 font-bold text-center"
                                style={{ backgroundColor: homeTeam.color, color: homeTeam.textColor }}
                            >
                                {homeTeam.shortest}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
